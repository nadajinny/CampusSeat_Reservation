# 🛠 프런트엔드 작업 가이드

새로운 화면을 추가하거나 기존 페이지를 리팩터링할 때 참고할 **작업 프로세스, 코드 스타일, 품질 규칙**을 정리했습니다.

---

## 1. 작업 프로세스

1. **목표 정의**  
   - 어떤 화면에서 어떤 사용자 행동을 지원해야 하는지 짧게 문서화합니다.
   - 필요한 API 엔드포인트가 존재하는지 `docs/api.md`와 백엔드 코드를 먼저 확인합니다.

2. **정적 구조 작성**  
   - HTML 파일을 생성/수정하여 필요한 시맨틱 구조를 마련합니다.
   - 접근성을 고려해 `label`, `aria-*` 속성을 미리 붙여두면 후속 작업이 수월합니다.

3. **상태/이벤트 연결**  
   - `js/app.js` 혹은 새로운 모듈에서 DOMContentLoaded 시 실행할 초기화 함수를 작성합니다.
   - 모든 네트워크 호출은 `ApiClient`를 사용하여 토큰/에러 처리를 재사용합니다. 직접 `fetch`를 호출하면 추적이 어려워집니다.

4. **비즈니스 로직 검증**  
   - 예약 정책과 같은 규칙은 반드시 `reservation-engine.js`에 함수로 추가하고, Jest 테스트를 먼저 작성합니다.
   - UI에서는 엔진의 결과 메시지를 그대로 활용하여 중복 구현을 피합니다.

5. **스타일링 & QA**  
   - 공통 클래스(`.summary-card`, `.notice`, 버튼 등)를 재사용하고, 새로운 스타일이 꼭 필요할 때만 `css/style.css`에 추가합니다.
   - 로컬에서 `npm test`와 브라우저 수동 테스트를 모두 수행합니다.

---

## 2. 코드 스타일 & 베스트 프랙티스

- **상태 중앙화**: `js/app.js`의 `state` 객체에 UI 상태를 보관하고, DOM은 항상 이 상태를 반영하도록 렌더링합니다.
- **함수 분리**: 이벤트 핸들러, API 호출, 렌더링 로직을 별도 함수로 나누면 테스트와 유지보수가 쉬워집니다.
- **UI 메시지 표준화**: 오류/안내 메시지는 가능한 한 ReservationEngine, API 응답, 혹은 상수에서 가져다 쓰며, 하드코딩을 최소화합니다.
- **접근성 고려**: 버튼 대신 링크를 사용해야 하는 경우, 역할(role)과 키보드 접근성을 확인합니다. 동적 콘텐츠는 `aria-live` 영역을 활용합니다.

---

## 3. 테스트 전략

- **ReservationEngine 변경 시** → `__tests__/reservation-engine.test.js`에 새 케이스 추가 후 `npm test`.
- **UI 로직 변경 시** → 가능하면 함수 단위로 분리하여 Jest에서 테스트하거나, 최소한 수동 테스트 체크리스트를 남깁니다.
- **회귀 방지** → 중복 예약, 허용 시간대 변화 등 정책 변경 사항은 문서(`docs/frontend-integration.md`, `docs/frontend-storage.md`)에 기록해 팀원 간 컨텍스트를 공유합니다.

---

## 4. 리뷰 & 협업 팁

- PR/코드 리뷰 시 “화면 흐름”, “상태 변경”, “API 호출”이라는 세 축을 기준으로 설명하면 빠르게 이해할 수 있습니다.
- HTML/JS 변경 시에는 스크린샷이나 GIF를 첨부하여 시각적 변화를 공유합니다.
- 중복 코드가 발견되면 공통 컴포넌트를 만드는 대신, 먼저 함수 추출 → 파일 분리 순으로 점진적으로 개선합니다.
